# 블루 아카이브 자동화 테스트 프로젝트

## 프로젝트 개요

블루 아카이브 스팀 버전의 Normal 1-4 스테이지를 자동으로 플레이하고 검증하는 자동화 테스트 도구입니다.

## 과제 요구사항

### 대상 게임
- **게임**: 블루 아카이브 (Blue Archive)
- **플랫폼**: Steam 버전
- **테스트 스테이지**: Normal 1-4

### 검증 항목
1. 발판 이동 정상 여부
2. 전투 정상 진입 여부
3. 각 학생(캐릭터)별 EX 스킬 사용 여부
4. 스킬 사용 시 코스트 소모량 정상 여부
5. 각 전투별 학생 데미지 기록
6. 보상 정상 획득 여부

### 기술적 제약사항
- ✅ 순수 코드로만 구현 (상용 자동화 툴 사용 금지)
- ✅ Live 빌드(스팀 배포 버전)에서 실행
- ✅ 게임 내부 로직 접근 불가 (메모리 해킹 등 금지)
- ✅ 화면 인식 기반으로 정보 수집
- ✅ 화면 제어 방식으로 조작

## 구현 방법

**사용 기술 스택:**
- Python 3.x
- pyautogui (화면 제어 및 이미지 인식)
- 템플릿 매칭 기반 UI 인식

## 검증 항목별 구현 가능성 분석

### ✅ 구현 가능 (높은 신뢰도)

#### 1. 발판 이동 정상 여부
- **난이도**: 낮음
- **방법**: 발판 템플릿 인식 → 클릭 → 화면 전환 감지
- **신뢰도**: ~90%
- **구현 상태**: Phase 1 (우선순위 높음)

#### 2. 전투 정상 진입 여부
- **난이도**: 낮음
- **방법**: 전투 시작 버튼 클릭 → 전투 UI 출현 감지
- **신뢰도**: ~95%
- **구현 상태**: Phase 1 (우선순위 높음)

#### 6. 보상 정상 획득 여부
- **난이도**: 중간
- **방법**: 보상 화면 UI 감지
- **신뢰도**: ~80%
- **제약**: 보상 종류/개수 정확한 파싱은 어려움, "보상 화면 출현 여부"만 확인 가능
- **구현 상태**: Phase 1 (우선순위 높음)

### ⚠️ 부분 구현 가능 (제약 있음)

#### 3. 각 학생별 EX 스킬 사용 여부
- **난이도**: 중상
- **방법**: EX 스킬 아이콘 감지 → 클릭 → 쿨다운 상태 변화 감지
- **신뢰도**: ~60-70%
- **제약사항**:
  - 스킬 아이콘 활성화 상태 판단 어려움
  - 전투 중 화면 움직임으로 인한 템플릿 매칭 실패 가능
  - 스킬 이펙트로 인한 화면 가림 현상
- **현실적 접근**: "스킬 버튼 클릭 시도" 기록, 실제 발동 여부는 간접 추정
- **구현 상태**: Phase 1 (제한적 구현)

#### 4. 스킬 사용 시 코스트 소모량 정상 여부
- **난이도**: 높음
- **방법**: 코스트 UI 영역에서 OCR 수행
- **신뢰도**: ~50-60%
- **제약사항**:
  - 전투 중 코스트 자동 충전으로 인한 지속적인 값 변동
  - 특수 폰트 및 애니메이션으로 인한 OCR 정확도 저하
  - 스킬 사용 전후 정확한 타이밍 캡처 어려움
- **현실적 접근**: 코스트 "감소 여부"만 확인 (정확한 수치는 오차 범위 ±10%)
- **구현 상태**: Phase 2 (시간 허용 시 도전)

### ❌ 구현 매우 어려움 (낮은 신뢰도)

#### 5. 각 전투별 학생 데미지 기록
- **난이도**: 매우 높음
- **신뢰도**: ~30% 이하
- **치명적 제약사항**:
  - 데미지 숫자가 전투 중 빠르게 출현/소멸
  - 여러 캐릭터 동시 공격 시 데미지 텍스트 겹침
  - 데미지 텍스트 위치 불규칙 (크리티컬, 일반 공격 등)
  - OCR 실시간 캡처 한계 (프레임 처리 속도 부족)
- **기술적 한계**: pyautogui + 템플릿 매칭 방식으로는 **사실상 불가능**
- **대안 검토**: 전투 종료 후 결과 화면에서 "총 데미지" 확인 가능 여부 조사 필요
- **구현 상태**: Phase 3 (기술적 한계 문서화 예정)

## 프로젝트 일정

- **기한**: 2026년 1월 13일 (월요일)
- **제출 형태**: 완성된 부분 + 시도했으나 실패한 부분 명시

### 개발 단계

**Phase 1 - 핵심 기능 (필수)**
- 발판 이동 감지
- 전투 진입 감지
- 보상 획득 감지
- EX 스킬 클릭 시도 (간접 확인)

**Phase 2 - 도전 과제 (선택)**
- 코스트 소모 확인 (대략적 변화 감지)

**Phase 3 - 기술적 한계 (문서화)**
- 학생별 데미지 기록 시도 및 한계 분석

## 기대 결과물

1. **자동화 스크립트**: Normal 1-4 스테이지 자동 플레이
2. **검증 로그**: 각 검증 항목별 결과 기록
3. **기술 분석 문서**: 구현 가능/불가능 항목에 대한 상세 분석
4. **템플릿 이미지**: UI 요소 인식용 이미지 세트

## 참고사항

- 주어진 기한 내에 모두 완성되지 않더라도 진행된 부분까지 제출
- 기술적 한계가 명확한 항목은 시도 과정과 한계 분석을 문서화하여 제출
